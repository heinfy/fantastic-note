**é«˜é˜¶ç»„ä»¶ï¼ˆHigher-Order Component, HOCï¼‰** æ˜¯ React ä¸­ä¸€ç§**å¤ç”¨ç»„ä»¶é€»è¾‘çš„è®¾è®¡æ¨¡å¼**ï¼Œå…¶æœ¬è´¨æ˜¯ï¼š

> **ä¸€ä¸ªå‡½æ•°ï¼Œæ¥æ”¶ä¸€ä¸ªç»„ä»¶ä½œä¸ºå‚æ•°ï¼Œå¹¶è¿”å›ä¸€ä¸ªæ–°çš„å¢å¼ºç»„ä»¶ã€‚**

å½¢å¼ä¸Šç±»ä¼¼äºå‡½æ•°å¼ç¼–ç¨‹ä¸­çš„é«˜é˜¶å‡½æ•°ã€‚

---

### ä¸€ã€åŸºæœ¬ç»“æ„
```js
// é«˜é˜¶ç»„ä»¶ï¼ˆå‡½æ•°ï¼‰
const withEnhancement = (WrappedComponent) => {
  // è¿”å›ä¸€ä¸ªæ–°çš„ç»„ä»¶
  return class EnhancedComponent extends React.Component {
    render() {
      // å¯ä»¥æ³¨å…¥ propsã€å¤„ç†é€»è¾‘ã€æ‹¦æˆªæ¸²æŸ“ç­‰
      return <WrappedComponent {...this.props} extraProp="enhanced" />;
    }
  };
};

// ä½¿ç”¨
const EnhancedButton = withEnhancement(Button);
```

> âœ… æ ¸å¿ƒï¼š**ä¸ä¿®æ”¹åŸç»„ä»¶ï¼Œè€Œæ˜¯ç»„åˆå‡ºæ–°ç»„ä»¶**ï¼ˆç¬¦åˆ React çš„ç»„åˆå“²å­¦ï¼‰ã€‚

---

### äºŒã€å¸¸è§åº”ç”¨åœºæ™¯

#### âœ… 1. **æ³¨å…¥ propsï¼ˆæ•°æ®/æ–¹æ³•ï¼‰**
ä¾‹å¦‚ï¼šä» Context æˆ–å…¨å±€çŠ¶æ€ä¸­æå–æ•°æ®å¹¶ä¼ ç»™å­ç»„ä»¶ã€‚
```js
const withUser = (WrappedComponent) => (props) => {
  const user = useAuth(); // å‡è®¾ useAuth æ˜¯è‡ªå®šä¹‰ Hook
  return <WrappedComponent {...props} user={user} />;
};
```

#### âœ… 2. **æƒé™æ§åˆ¶ / æ¡ä»¶æ¸²æŸ“**
```js
const withAuth = (WrappedComponent) => (props) => {
  const { isAuthenticated } = useAuth();
  if (!isAuthenticated) return <Redirect to="/login" />;
  return <WrappedComponent {...props} />;
};
```

#### âœ… 3. **æ—¥å¿—ã€åŸ‹ç‚¹ã€æ€§èƒ½ç›‘æ§**
```js
const withTracking = (WrappedComponent, eventName) => (props) => {
  useEffect(() => {
    trackPageView(eventName); // ä¸ŠæŠ¥åŸ‹ç‚¹
  }, []);
  return <WrappedComponent {...props} />;
};
```

#### âœ… 4. **å¤„ç†åŠ è½½/é”™è¯¯çŠ¶æ€ï¼ˆé…åˆæ•°æ®è¯·æ±‚ï¼‰**
> âš ï¸ æ³¨æ„ï¼šåœ¨ Hooks æ—¶ä»£ï¼Œè¿™ç±»é€»è¾‘æ›´æ¨èç”¨è‡ªå®šä¹‰ Hook å®ç°ã€‚

```js
const withData = (url) => (WrappedComponent) => (props) => {
  const [data, setData] = useState(null);
  useEffect(() => {
    fetch(url).then(res => setData(res.json()));
  }, []);
  return data ? <WrappedComponent {...props} data={data} /> : <Loading />;
};
```

#### âœ… 5. **ä½¿ç”¨ `displayName` ä¾¿äºè°ƒè¯•**

```js
EnhancedComponent.displayName = `withHOC(${getDisplayName(WrappedComponent)})`;
```

---

### æ€»ç»“

- **HOC æ˜¯å‡½æ•° â†’ æ¥æ”¶ç»„ä»¶ â†’ è¿”å›å¢å¼ºç»„ä»¶**
- **ç”¨é€”**ï¼šé€»è¾‘å¤ç”¨ã€æ¨ªåˆ‡å…³æ³¨ç‚¹ï¼ˆauthã€logã€data ç­‰ï¼‰
- **ä¼˜åŠ¿**ï¼šè§£è€¦ã€å¯ç»„åˆ
- **åŠ£åŠ¿**ï¼šåµŒå¥—å¤æ‚ã€props ä¼ é€’ä¸é€æ˜
- **ç°çŠ¶**ï¼š**åœ¨ Hooks æ—¶ä»£å·²é€æ¸è¢«è‡ªå®šä¹‰ Hook å–ä»£**ï¼Œä½†åœ¨æŸäº›åœºæ™¯ï¼ˆå¦‚éœ€è¦ä¿®æ”¹æ¸²æŸ“ç»“æ„ï¼‰ä»æœ‰ä»·å€¼ã€‚

> ğŸ’¡ **è®°ä½**ï¼š  
> **HOC ä¸æ˜¯ APIï¼Œè€Œæ˜¯ä¸€ç§è®¾è®¡æ¨¡å¼ã€‚**  